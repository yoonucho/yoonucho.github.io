---
layout: post
title: "ë¦¬ì•¡íŠ¸ Hookì— ëŒ€í•œ ì •ë¦¬"
date: 2019-02-08
comments: true
categories: review
---

### Hookì„ ì‚¬ìš©í•˜ë©´ ë­ê°€ ì¢‹ì€ê°€?

* ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œëŠ” stateê°€ í•„ìš”í•œ í´ëž˜ìŠ¤ê¸°ë°˜ì˜ ì»´í¬ë„ŒíŠ¸ì™€
  í•¨ìˆ˜ê¸°ë°˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ìžˆë‹¤.

* Hookì„ ì‚¬ìš©í•˜ë©´ state+ í•¨ìˆ˜ê¸°ë°˜ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ê°€ ìžˆë‹¤.

* ë˜‘ê°™ì€ ìž‘ì—…ì„ componentDidMount()ì™€ componentUpdate()ì—ì„œ êµ¬í˜„í•´ì•¼ í• ë•Œ useEffect()ë¡œ ì¤‘ë³µë¡œì§ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤. 

### Hookì˜ ì—­ì‚¬ 

 * recomposeë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì‹œìž‘ë˜ì—ˆë‹¤.
  
   * [recompose - npm](https://www.npmjs.com/package/recompose)
   * [recompose github](https://github.com/acdlite/recompose)
 * ë¦¬ì•¡íŠ¸íŒ€ì— í•©ë¥˜í•˜ë©´ì„œ 2018.10.25 ì—…ë°ì´íŠ¸ ì¤‘ë‹¨ ì´í›„ Hooksë¡œ ë¦´ë¦¬ì¦ˆë˜ì—ˆë‹¤.
  
### ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ
 
   - ì¶œì²˜ - [ë¦¬ì•¡íŠ¸ Hooks ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œë¥¼ ì•Œì•„ë³´ìž! | React Hooks for daily use!]([https://www.npmjs.com/package/recompose](https://www.youtube.com/watch?v=sZDvByH2mNU)
  
  **[ì¸í’‹(ì´ë¦„ ìž…ë ¥), ë°ì´í„°ìš”ì²­(ëžœë¤ ê³ ì–‘ì´ ì´ë¯¸ì§€) ì˜ˆì œ]**

~~~javascript
  
import { useState, useEffect } from "react";
import ReactDOM from "react-dom";
import axios from "axios";

function useInput(defaultValue) {
  const [value, setValue] = useState(defaultValue);

  const onChange = e => {
    const {
      target: { value }
    } = e;
    setValue(value);
  };

  return { value, onChange };
}

function useFetch(url) {
	// ë³µìˆ˜ì˜ state ë³€ìˆ˜ ì„ ì–¸ ê°€ëŠ¥
	 // urlì—ì„œ ê°€ì ¸ì˜¨ì •ë³´
  const [payload, setPayload] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState("");

  const callUrl = async () => {
    try {
      const { data } = await Axios.get(url);
	  //throw Error();
      setPayload(data);
    } catch {
      setError("ðŸ˜­");
	  // ì—ëŸ¬ ìœ ë¬´ì— ë”°ë¼ì„œ ì‹¤í–‰
    } finally {
      setLoading(false);
    }
  };

  //componentDidMount()ì™€ componentUpdate()ë¥¼  ëŒ€ì²´í•  ìˆ˜ ìžˆì§€ë§Œ 
  // ì´ ì˜ˆì œì—ì„œëŠ” componentDidMount()ë§Œ ì‚¬ìš© 
  useEffect(() => {
    callUrl();
  }, []);

  return { payload, loading, error };
}

function App() {
  const name = useInput("");
  const { payload, loading, error } = useFetch("https://aws.random.cat/meow");
  return (
    <div className="App">
      <h1>Use Hooks</h1>
      <br />
      <input {...name} placeholder="Whats your name" />
      <br />
      {loading && <span>loading your cat</span>}
      {!loading && error && <span>{error}</span>}
      {!loading && payload && <img src={payload.file} width="250" />}
    </div>
  );
}




