<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="yoonucho" />
	<meta name="description" content="조윤우의 블로그입니다." />
	<meta name="keywords" content="조윤우 블로그" />
	<meta property="og:title" content="조윤우의 블로그입니다." />
	<meta property="og:description" content="조윤우의 블로그입니다." />
	<meta property="og:image" content="https://yoonucho.github.io/renewal/img/og_yoonu.jpg" />
	<title>
		axios VS fetch
	</title>
	<!-- favicon & icon -->
	<link rel="shortcut icon" href="/ico/favicon.ico" />
	<link rel="icon" href="/ico/icon_16.png" sizes="16x16" />
	<link rel="icon" href="/ico/icon_32.png" sizes="32x32" />
	<link rel="icon" href="/ico/icon_64.png" sizes="64x64" />
	<link rel="icon" href="/ico/icon_144.png" sizes="144x144" />

	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
	<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="/style.css" />
	<link rel="canonical" href="https://yoonucho.github.io/review/2019/03/13/axiosVSfetch.html" />
	<link rel="alternate" type="application/rss+xml" title="윤우블로그"
		href="https://yoonucho.github.io/feed.xml" />

	<!-- syntax.css -->
	<link rel="stylesheet" href="/syntax.css" />

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-130856644-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() {
			dataLayer.push(arguments);
		}
		gtag("js", new Date());

		gtag("config", "UA-130856644-1");
	</script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-EZ53YR7BPP"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-EZ53YR7BPP');
	</script>

	<!-- Google AdSense -->
	<script data-ad-client="ca-pub-1871373979449169" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

  <body>
    <div class="wrapper">
	<input data-function="swipe" id="swipe" type="checkbox" />
	<label data-function="swipe" for="swipe" class="btn btn-default"
		>Menu</label
	>

	<div class="content"><article class="post" itemscope itemtype="https://schema.org/BlogPosting">
  <header class="post-header">
    <h2>axios VS fetch</h2>
    <p class="post-meta">
      <time
        datetime="2019-03-13T00:00:00+00:00"
        itemprop="datePublished"
        >Mar 13, 2019</time
      >
    </p>
    <hr />
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1871373979449169"
     data-ad-slot="3248859537"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

  <div class="post-content" itemprop="articleBody"><h3 id="무엇을-할때-사용하는가">무엇을 할때 사용하는가?</h3>

<ul>
  <li>애플리케이션에서 사용할 데이터를 요청할때</li>
</ul>

<h3 id="왜-사용해야-하는가">왜 사용해야 하는가</h3>

<h4 id="fetch"><strong>[fetch]</strong></h4>

<ul>
  <li>import를 하지 않고 사용할 수 있다.</li>
  <li>Promise기반 비동기  API 라이브러리</li>
</ul>

<h4 id="axios"><strong>[axios]</strong></h4>

<ul>
  <li>JSON 데이터의 자동 변환을 수행한다.</li>
  <li>Promise기반 비동기  API 라이브러리</li>
  <li>API URL의 기본 인스턴스를 만들 수 있다.</li>
  <li>fetch보다 다양한 기능을 지원한다.</li>
</ul>

<h3 id="단점은-뭐가-있나">단점은 뭐가 있나</h3>

<h4 id="fetch-1"><strong>[fetch]</strong></h4>

<ul>
  <li>요청을 취소하는 abort 메서드를 지원하지 않는다.</li>
  <li>IE 지원안함</li>
  <li>response timeout API 제공이 안된다.</li>
</ul>

<h4 id="axios-1"><strong>[axios]</strong></h4>

<ul>
  <li>IE 지원안함</li>
  <li>fetch보다 무겁다(?)</li>
</ul>

<h3 id="실제-사용-예시">실제 사용 예시</h3>

<p><strong>[fetch 사용 예시]</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://someurl.com</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
	<span class="na">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cors</span><span class="dl">'</span><span class="p">,</span>
	<span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
		<span class="dl">'</span><span class="s1">Accept</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json;charset=UTF-8</span><span class="dl">'</span>
	<span class="p">},</span>
	<span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
		<span class="na">property_one</span><span class="p">:</span> <span class="nx">value_one</span><span class="p">,</span>
		<span class="na">property_two</span><span class="p">:</span> <span class="nx">value_two</span>
	<span class="p">})</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">responseOK</span> <span class="o">=</span> <span class="nx">response</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">responseOK</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
	<span class="c1">// do something with data</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>[axios 사용 예시]</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://someurl.com</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
	<span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
	<span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
		<span class="dl">'</span><span class="s1">Accept</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
		<span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json;charset=UTF-8</span><span class="dl">'</span>
	<span class="p">},</span>
	<span class="na">data</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">property_one</span><span class="p">:</span> <span class="nx">value_one</span><span class="p">,</span>
		<span class="na">property_two</span><span class="p">:</span> <span class="nx">value_two</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">responseOK</span> <span class="o">=</span> <span class="nx">response</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">OK</span><span class="dl">'</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">responseOK</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
	<span class="c1">// do something with data</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="주관적인-결론은">주관적인 결론은</h3>

<ul>
  <li>
    <p>리액트같은 SPA에서는 기존 요청을 취소할 수 있는 axios 라이브러리를 사용하는게 유지보수를 위해서도 좋을거 같다라는 생각이 들었다. 그리고 IE를 지원안하는거 말고는 안 쓸 이유가 없다.</p>
  </li>
  <li>
    <p>추가내용을 적자면: axios의 자동으로 json객체로 변환하는 특징은 (내가 장점으로 생각했던)
멘토님의 말씀에 의하면 유연하지 않을수 있어서 오히려 단점이 될 수 있다.</p>

    <p>이유는 서버에서 보내는 데이터 type과 클라이언트의 데이터 type이 서로 다를 경우가 있기 때문에 되도록이면 서버, 클라이언트에서 type 변환을 하고 네트워크 상으로 주는 데이터는 encoding, byte array 형태로 주고 받는게 제일 안전하고 깔끔하다.
(사실 byte array에 대한 개념이 잡혀있지 않은 상태라 이것도 검색해봐야지.)</p>
  </li>
</ul>

<h3 id="참고사이트">참고사이트</h3>

<ul>
  <li>
    <p>https://developer.mozilla.org/ko/docs/Web/API/Fetch_API</p>
  </li>
  <li>
    <p>https://medium.com/little-big-programming/%EB%82%B4%EA%B0%80-fetch-api%EB%A5%BC-%EC%93%B0%EC%A7%80-%EB%AA%BB%ED%96%88%EB%8D%98-%EC%9D%B4%EC%9C%A0-3c23f0ec6b82</p>
  </li>
  <li>
    <p>https://css-tricks.com/using-data-in-react-with-the-fetch-api-and-axios/</p>
  </li>
  <li>
    <p>http://www.realhanbit.co.kr/books/87/pages/1563/preview</p>
  </li>
  <li>
    <p>https://stackoverflow.com/questions/40844297/what-is-difference-between-axios-and-fetch</p>
  </li>
  <li>
    <p>https://medium.com/@kkak10/javascript-fetch-api-e26bfeaad9b6</p>
  </li>
</ul>

</div>

  <!-- To enable Disqus comments, comment out this code and insert your Disqus shortname -->

  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = "yoonucho"; // required: replace example with your forum shortname
    var disqus_developer = 1; // Comment out when the site is live
    var disqus_identifier = "/review/2019/03/13/axiosVSfetch.html";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement("script");
      dsq.type = "text/javascript";
      dsq.async = true;
      dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
      (
        document.getElementsByTagName("head")[0] ||
        document.getElementsByTagName("body")[0]
      ).appendChild(dsq);
    })();
  </script>
  <noscript
    >Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript"
      >comments powered by Disqus.</a
    ></noscript
  >
  <a href="https://disqus.com" class="dsq-brlink"
    >comments powered by <span class="logo-disqus">Disqus</span></a
  >
  
</article>
</div>

	<div class="sidebar menu">
		<div
			id="picture"
			style="background-image: url(https://yoonucho.github.io/post_img/yoonu.png)"
		></div>
		<!-- <p>One sentence introducing yourself or what you do</p> -->

		<hr />

		<p>윤우 블로그</p>

		<hr />

		<div id="social-icons">
			<ul>
				<li>
					<a href="https://github.com/yoonucho" title="깃헙" target="_blank"><i
							class="fa fa-github"></i></a>
				</li>
				<li>
					<a href="https://t.me/tomorrowcho" title="텔레그램" target="_blank"><i
							class="fa fa-telegram"></i></a>
				</li>
			</ul>
		</div>

		<hr />

		<div class="navigation">
			<ul>
				   
				<li>
					<a href="/about/">About</a>
				</li>
				  
				<li>
					<a href="/">Blog</a>
				</li>
				                           
			</ul>
		</div>

		<hr />

		<div class="navigation">
			<ul>
				
				<li>
					<a
						href="/categories/issue_note"
						>issue_note</a
					>
				</li>
				
				<li>
					<a
						href="/categories/git"
						>git</a
					>
				</li>
				
				<li>
					<a
						href="/categories/review"
						>review</a
					>
				</li>
				
				<li>
					<a
						href="/categories/book_list"
						>book_list</a
					>
				</li>
				
				<li>
					<a
						href="/categories/side_project"
						>side_project</a
					>
				</li>
				
				<li>
					<a
						href="/categories/1stHomecomingday"
						>1stHomecomingday</a
					>
				</li>
				
			</ul>
		</div>

		<hr />

		<p>yoonu blog</p>
		<p></p>
		<p>Powered by Jekyll</p>
		<p></p>
	</div>
</div>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.x-git.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- <script src="/js/index.js"></script> -->
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 상단사각 -->
	<ins class="adsbygoogle"
		style="display:block;text-align: center;"
		data-ad-client="ca-pub-1871373979449169"
		data-ad-slot="5339836252"
		data-ad-format="auto"
		data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
  </body>

  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });
  </script>

  <script>
    $(document).ready(function() {
      $("#page-content-wrapper").fadeIn();
    });
  </script>
</html>
